<h2>News in this release (ECLS-@VERSION@)</h2>
<pre>
ECLS 0.4
=========

* Errors fixed:

  - Fixnum product would overflow: (* 65536 32768) => negative number.

  - Bit fiddling operations with negative fixnums now work (i.e.
    LOGAND, LOGOR, LOGBITP, etc).

  - When a PRINT-OBJECT method prints a circular structure which is itself
    in another circular structure, the stack that keeps temporary data
    may get deleted.

  - Format clause "~<" now accepts any number of text segments.

  - Format clause "~E" should not add spurious zeros past the decimal
    dot. I.e. (format nil "~13,6,2,7E" 3.14159) should output "
    3141590.E-06", not "3141590.0E-06". Similar problem happened to
    "~F", which added a traling zero even when number of decimal
    positions was specified as zero.

* System design and portability:

  - Ported to Debian Linux PPC and Cygwin.

  - Small changes allow a static build of the executable in platforms
    where either dlopen() does not work, or ld does not allow
    undefined symbols in libraries.

  - Remove unportable code of the type "va_list d = cs".

  - Simplify gathering of &rest and &key arguments in compiled code.

  - Make the interpreter stack public, with variables and functions
    prefixed with "cl_stack*".

  - Remove the Invocation History Stack, and implement it as a "linked
    list" of frame records on top of the interpreter stack. This
    avoids previous size limitations.

  - Compile code onto the interpreter stack instead of using a stack
    of its own.

  - Use the interpreter stack to simplify the implementations of the
    printer and of the formater.

* Visible changes and ANSI compatibility:

  - MAKE-PATHNAME now accepts all combinations denoted by ANSI. Namely,
    (MAKE-PATHNAME :directory :wild), etc.

  - :UNSPECIFIC is only allowed in pathname's version and in a logical
    pathname's device.

  - MSDOS style namestrings, such as "c:/my/path/to/this/file.txt" and
    "//c/my/path/to/this/file.txt" finally work. Beware that these
    paths are also allowed under Unix, even though they cause errors
    when trying to access files. Besides (EQUALP #P"c:/foo/file.txt"
    #P"//c/path/file.txt") => NIL

  - (DECLARE (OPTIMIZE DEBUG)) is ignored, but no warning is printed.

  - Implemented WITH-STANDARD-IO-SYNTAX.
</pre>

<h2>Known bugs</h2>

As I mentioned above, the problem I am finding here is the lack of test suites
which I can use to detect failures in the behavior of any function. Currently I
can assure that <a href="http://ecls.sourceforge.net">ECLS</a> passes most of
the tests from the <a href="http://clocc.sourceforge.net">the CLOCC suite</a>.
The most important exceptions are
<ul>
<li>CLOS
<li>#'format
<li>#'unread-char is too lax
<li>The CL package is too polluted
<li>LOOP lacks some of the standard keywords, including destructuring
<li>Support for logical pathnames is incomplete
</ul>

If you find something that should be fixed or that the behavior of a
function is particularly misleading with respect to the standards, feel free
to tell me so.

Some other bugs which need to be fixed are:
<ul>
<li>Threads and sockets haven't been tested yet.
<li>#'format doesn't pass the Cltl-1 tests.
<li>Needs better support for wildcards in pathnames.
<li>Bugs in logical operations among bignums.
<li>Support for CLOS needs yet more optimization.
<li>ECLS has its own pretty-printer, which does not conform ANSI.
</ul>
